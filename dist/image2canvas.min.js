!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.image2canvas=t()}}(function(){return function t(e,r,o){function n(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){var r=e[s][1][t];return n(r?r:t)},u,u.exports,t,e,r,o)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,r){"use strict";function o(t){this.options=t||{},this.targets=this.options.selector?n(this.options.selector,this.options.context):n("[img-to-canvas]"),this.placeholder=this.options.placeholder||"src",this.canvasGallary=[]}function n(t,e){e=e||document;var r=e.querySelectorAll(t);return Array.prototype.slice.call(r)}o.prototype.init=function(){for(var t=this,e=this.targets,r=0,o=e.length;r<o;r++)!function(){var o=e[r],n=o.getAttribute(t.placeholder),i=document.createElement("img");i.src=n,i.onload=function(){var e=t.convert(i,0,0,o.width,o.height),r=o.parentNode;e.setAttribute(t.placeholder,n),"src"===t.placeholder||e.setAttribute("src",o.getAttribute("src")),r.insertBefore(e,o),o.remove(),t.canvasGallary.push(e)}}(r)},o.prototype.convert=function(t,e,r,o,n){var i=document.createElement("canvas");return i.width=o||t.width,i.height=n||t.height,i.getContext("2d").drawImage(t,e||0,r||0,i.width,i.height),i},o.prototype.destroy=function(){var t=this;this.canvasGallary.map(function(e){var r=e.parentNode,o=document.createElement("img");o.setAttribute("src",e.getAttribute(t.placeholder)),t.options.selector||o.setAttribute("img-to-canvas",""),"src"===t.placeholder||o.setAttribute(t.placeholder,e.getAttribute("src")),r.insertBefore(o,e),e.remove()}),this.canvasGallary=[]},o.prototype.refresh=function(){this.destroy(),this.targets=this.options.selector?n(this.options.selector,this.options.context):n("[img-to-canvas]"),this.init()},e.exports=o},{}]},{},[1])(1)});